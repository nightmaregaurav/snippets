#
# Default server configuration
#

# Note: You should disable gzip for SSL traffic.
# See: https://bugs.debian.org/773332
#
# Read up on ssl_ciphers to ensure a secure configuration.
# See: https://bugs.debian.org/765782
#
# Don't use Self signed certs generated by the ssl-cert package in a production server!

server {
	listen 80 default_server;
	listen [::]:80 default_server;
	listen 443 ssl default_server;
	listen [::]:443 ssl default_server;

	server_name _;

	root /var/www/html;
	index index.html index.htm index.php index.xml index.js;

	location / {
		try_files $uri $uri/ =404;
	}

	#
	# pass PHP scripts to FastCGI server
	#
	#location ~ \.php$ {
	#	include snippets/fastcgi-php.conf;
	#
	#	# With php-fpm (or other unix sockets):
	#	fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;
	#	# With php-cgi (or other tcp sockets):
	#	fastcgi_pass 127.0.0.1:9000;
	#}

	#
	# deny access to .htaccess files, if Apache's document root concurs with nginx's one
	#
	#location ~ /\.ht {
	#	deny all;
	#}

	#
	# pass api requests to another server
	#
	#location ~ /api {
    #    proxy_pass              http://localhost:5555;
    #    proxy_redirect          off;
    #    proxy_buffering         off;
    #    proxy_http_version      1.1;
    #    proxy_cache_bypass      $http_upgrade;

    #    proxy_set_header        Upgrade $http_upgrade;
    #    proxy_set_header        Connection keep-alive;
    #    proxy_set_header        Host $host;
    #    proxy_set_header        X-Real-IP $remote_addr;
    #    proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
    #    proxy_set_header        X-Forwarded-Proto $scheme;
    #}

    #
    # pass socket requests to socket server
    #
    #location ~ /socket.io {
    #    proxy_pass              http://localhost:6666;
    #    proxy_redirect          off;
    #    proxy_buffering         off;
    #    proxy_http_version      1.1;
    #    proxy_cache_bypass      $http_upgrade;
    #    proxy_read_timeout      60s;

    #    proxy_set_header        Upgrade $http_upgrade;
    #    proxy_set_header        Connection upgrade;
    #    proxy_set_header        Host $host;
    #    proxy_set_header        X-Real-IP $remote_addr;
    #    proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
    #    proxy_set_header        X-Forwarded-Proto $scheme;
    #}
}